[2025-07-07 14:24:31] INFO - Logger initialized. Log file: logs\mtc_downloader_20250707_142431.log
[2025-07-07 14:24:31] INFO - Detected Windows platform
[2025-07-07 14:24:31] INFO - Detected Python 3.12+, applying special workarounds for asyncio.create_subprocess_exec
[2025-07-07 14:24:31] INFO - Set WindowsSelectorEventLoopPolicy
[2025-07-07 14:24:31] INFO - Garbage collection enabled
[2025-07-07 14:24:31] INFO - Using configuration directory: C:\Users\GHC\AppData\Local\nguyentd010\metruyencv-downloader
[2025-07-07 14:24:31] INFO - Config file path: C:\Users\GHC\AppData\Local\nguyentd010\metruyencv-downloader\config.ini
[2025-07-07 14:24:31] INFO - Found local config file: C:\VF\MTC_Download\config.txt
[2025-07-07 14:24:31] INFO - Successfully read config.txt using latin-1 encoding
[2025-07-07 14:24:31] INFO - Using config file parameters for novel info
[2025-07-07 14:24:31] INFO - Loaded config from local file: email=, disk=C, max_connections=50
[2025-07-07 14:24:31] INFO - Novel URL: , Chapters: 1 to 10
[2025-07-07 14:24:31] INFO - Initialized HTTP client with max_connections=50
[2025-07-07 14:24:31] INFO - Using base URL: https://metruyencv.com/truyen/
[2025-07-07 14:24:31] INFO - Tesseract OCR path set
[2025-07-07 14:24:31] INFO - Skipping Playwright browser installation on Windows with Python 3.12+
[2025-07-07 14:24:31] INFO - Application started
[2025-07-07 14:24:31] INFO - Starting MTC Downloader application
[2025-07-07 14:24:31] ERROR - Error reading parameters: cannot access local variable 'novel_url' where it is not associated with a value
[2025-07-07 14:27:12] INFO - Closing 0 browser instances...
[2025-07-07 14:27:12] INFO - All browsers closed
[2025-07-07 14:27:12] INFO - HTTP client closed
[2025-07-07 14:27:12] INFO - Performing final cleanup
[2025-07-07 14:27:12] INFO - Closing 0 browser instances...
[2025-07-07 14:27:12] INFO - All browsers closed
[2025-07-07 14:27:12] INFO - HTTP client closed
[2025-07-07 14:27:12] CRITICAL - Unhandled exception: invalid literal for int() with base 10: 'py -3.12 test_chapter_download.py'
Traceback (most recent call last):
  File "C:\VF\MTC_Download\main.py", line 828, in main
    logger.info(f"URL: {novel_url}")
                        ^^^^^^^^^
UnboundLocalError: cannot access local variable 'novel_url' where it is not associated with a value

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\VF\MTC_Download\main.py", line 979, in <module>
    loop.run_until_complete(run_with_graceful_shutdown())
  File "C:\Python312\Lib\asyncio\base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\VF\MTC_Download\main.py", line 942, in run_with_graceful_shutdown
    await main()
  File "C:\VF\MTC_Download\main.py", line 834, in main
    start_chapter = int(input('Chapter bắt đầu: '))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: 'py -3.12 test_chapter_download.py'
